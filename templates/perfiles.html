{% extends "base.html" %}

{% block title %}Perfiles{% endblock %}

{% block content %}
<h1>Lista de Perfiles</h1>
<table border="1">
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>Número de Publicaciones</th>
            <th>Foto de Perfil</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for perfil in perfiles %}
        <tr>
            <td>{{ perfil.nombre }}</td>
            <td>{{ perfil.apellido }}</td>
            <td>{{ perfil.numero_publicaciones }}</td>
            <td>
                <img src="{{ url_for('static', filename=perfil.foto_perfil) }}" 
                     alt="Foto de perfil" 
                     width="50" 
                     style="border-radius: 50%; border: 1px solid #ccc;">
            </td>
            <td>
                <!-- Botón para ver publicaciones -->
                <a href="{{ url_for('ver_publicaciones', id=perfil.id) }}">
                    <button style="background-color: #007bff; color: white; padding: 5px 10px; border: none; border-radius: 5px; cursor: pointer;">Ver Publicaciones</button>
                </a>
                <!-- Botón para editar -->
                <a href="{{ url_for('editar_perfil', id=perfil.id) }}">
                    <button style="background-color: #28a745; color: white; padding: 5px 10px; border: none; border-radius: 5px; cursor: pointer;">Editar</button>
                </a>
                <!-- Botón para eliminar -->
                <form action="{{ url_for('eliminar_perfil', id=perfil.id) }}" method="POST" style="display: inline;" onsubmit="return confirm('¿Estás seguro de que deseas eliminar este perfil?');">
                    <button type="submit" style="background-color: #dc3545; color: white; padding: 5px 10px; border: none; border-radius: 5px; cursor: pointer;">
                        Eliminar
                    </button>
                </form>
                
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
